html
    head
        meta(charset="utf-8")
        meta(http-quiv="X-UA-Compatible", content="IE=edge,chrome=1")
        meta(name="view-port", content="width=device-width, initial-scale=1.0, maximum-scale=1.0")
        title!= title
        link(rel="stylesheet", type="text/css", href="#{cdn.host}semantic/dist/semantic.min.css?#{cdn.version}")
    body
        div(class="ui large top fixed hidden menu")
            div(class="ui container")
                a(class="active item") Home
                a(class="item") Work
                div(class="right menu")
                    div(class="item")
                        a(class="ui button") Log in
                    div(class="item")
                        a(class="ui primary button") Sign up

        div(ng-app="geekModule", ng-controller="ejs2jadeCtrl")
            p &nbsp;
            p &nbsp;
            p &nbsp;
            p &nbsp;
            textarea(ng-model="data.ejs", rows="10", cols="120")
            textarea(ng-model="data.jade", rows="10", cols="120")
            button(ng-click="convert()") Convert!
            pre(ng-model="data.errors")

        div
            script(src="#{cdn.host}bower_components/jquery/dist/jquery.min.js?#{cdn.version}")
            script(src="#{cdn.host}semantic/dist/semantic.min.js?#{cdn.version}")
            script(src="#{cdn.host}bower_components/angular/angular.min.js?#{cdn.version}")
            script(src="#{cdn.host}the-ejs2jade.js?#{cdn.version}")
            script(type="text/javascript").
                angular.module('geekModule', [])
                        .controller('ejs2jadeCtrl', ['$scope', function ($scope) {
                            $scope.data = {
                                ejs: '',
                                jade: '',
                                errors: []
                            };

                            $scope.convert = function () {
                                var ret = ejs2jade.convert($scope.data.ejs);
                                $scope.data.jade = ret.jade;
                                $scope.data.errors = ret.errors;
                            };
                        }])
                ;